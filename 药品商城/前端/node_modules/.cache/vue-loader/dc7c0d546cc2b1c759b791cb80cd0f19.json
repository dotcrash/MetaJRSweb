{"remainingRequest":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\HBuilderX软件\\Project\\brainHealth\\src\\layout\\header\\components\\headMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\src\\layout\\header\\components\\headMenu.vue","mtime":1652372262287},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652873263289},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\babel-loader\\lib\\index.js","mtime":1652873271922},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652873263289},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\vue-loader\\lib\\index.js","mtime":1652873270400}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"headMenu\",\n  computed: {\n    getUserInfo() {\n      return this.$store.getters.getUser;\n    },\n    readyLoginOut() {\n      return (\n        (this.$route.name === \"SendArticle\" || this.$route.name === \"UpdateArticle\") &&\n        this.$store.getters.getReadyLoginOut &&\n        (document.getElementsByClassName(\"el-input__inner\")[1].value || document.getElementsByClassName(\"w-e-text\")[0].innerHTML)\n      );\n    },\n  },\n  methods: {\n    async selectMenu(index) {\n      this.$emit(\"closeMenu\", true);\n      if (index == 1) {\n        this.$router.push({ path: \"/user/center\" }, () => {});\n      } else if (index == 2) {\n        this.$router.push({ path: `/article/release_manage/${this.getUserInfo._id}` }, () => {});\n      } else if (index == 3) {\n        this.$router.push({ path: \"/user/update_pass\" }, () => {});\n      } else if (index == 4) {\n        this.$store.commit(\"setReadyLoginOut\", true);\n        this.$confirm(`${this.readyLoginOut ? \"你在当前页面已经编辑了文章信息，离开当前页面将会丢失该页面的任何信息。\" : \"\"}是否继续退出登录?`, \"提示\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        })\n          .then(() => {\n            history.pushState(history.state, \"\", document.URL);\n            window.addEventListener(\"popstate\", this.cancelGoBack);\n            this.$route.path !== \"/\" && this.$router.push(\"/\");\n            localStorage.clear();\n          })\n          .catch(() => {\n            this.$store.commit(\"setReadyLoginOut\", false);\n          });\n      }\n    },\n    cancelGoBack() {\n      history.pushState(history.state, \"\", document.URL);\n    },\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"popstate\", this.cancelGoBack);\n  },\n};\n",{"version":3,"sources":["headMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"headMenu.vue","sourceRoot":"src/layout/header/components","sourcesContent":["<template>\n  <div class=\"avater-main\">\n    <div class=\"info-box\">\n      <img :src=\"getUserInfo.avatar\" alt=\" \" />\n      <h3 style=\"padding-top: 40px; margin:10px\">{{ getUserInfo.nickname }}</h3>\n    </div>\n    <el-menu class=\"el-menu-vertical-demo\" menu-trigger=\"click\" @select=\"selectMenu\">\n      <el-menu-item index=\"1\">\n        <span slot=\"title\">个人中心</span>\n      </el-menu-item>\n      <el-menu-item index=\"2\">\n        <span slot=\"title\">发布管理</span>\n      </el-menu-item>\n      <el-menu-item index=\"3\">\n        <span slot=\"title\">修改密码</span>\n      </el-menu-item>\n      <el-menu-item index=\"4\">\n        <span slot=\"title\">退出登录</span>\n      </el-menu-item>\n    </el-menu>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"headMenu\",\n  computed: {\n    getUserInfo() {\n      return this.$store.getters.getUser;\n    },\n    readyLoginOut() {\n      return (\n        (this.$route.name === \"SendArticle\" || this.$route.name === \"UpdateArticle\") &&\n        this.$store.getters.getReadyLoginOut &&\n        (document.getElementsByClassName(\"el-input__inner\")[1].value || document.getElementsByClassName(\"w-e-text\")[0].innerHTML)\n      );\n    },\n  },\n  methods: {\n    async selectMenu(index) {\n      this.$emit(\"closeMenu\", true);\n      if (index == 1) {\n        this.$router.push({ path: \"/user/center\" }, () => {});\n      } else if (index == 2) {\n        this.$router.push({ path: `/article/release_manage/${this.getUserInfo._id}` }, () => {});\n      } else if (index == 3) {\n        this.$router.push({ path: \"/user/update_pass\" }, () => {});\n      } else if (index == 4) {\n        this.$store.commit(\"setReadyLoginOut\", true);\n        this.$confirm(`${this.readyLoginOut ? \"你在当前页面已经编辑了文章信息，离开当前页面将会丢失该页面的任何信息。\" : \"\"}是否继续退出登录?`, \"提示\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        })\n          .then(() => {\n            history.pushState(history.state, \"\", document.URL);\n            window.addEventListener(\"popstate\", this.cancelGoBack);\n            this.$route.path !== \"/\" && this.$router.push(\"/\");\n            localStorage.clear();\n          })\n          .catch(() => {\n            this.$store.commit(\"setReadyLoginOut\", false);\n          });\n      }\n    },\n    cancelGoBack() {\n      history.pushState(history.state, \"\", document.URL);\n    },\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"popstate\", this.cancelGoBack);\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.avater-main {\n  width: 200px;\n  height: 350px;\n  background-color: #fff;\n  box-shadow: 0 3px 6px 2px #aaa;\r\n  margin-right: 150px;\n}\n.info-box {\n  position: relative;\n}\n.info-box > img {\n  position: absolute;\n  cursor: pointer;\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  top: -45px;\n  left: 60px;\n}\n.el-menu ::v-deep {\n  .el-menu-item.is-active {\n    color: #303133;\n  }\n}\n</style>"]}]}