{"remainingRequest":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\HBuilderX软件\\Project\\brainHealth\\src\\layout\\header\\forumHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\src\\layout\\header\\forumHeader.vue","mtime":1652768418903},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652873263289},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\babel-loader\\lib\\index.js","mtime":1652873271922},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652873263289},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\vue-loader\\lib\\index.js","mtime":1652873270400}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport headLabel from \"./components/headLabel.vue\";\r\nimport headMenu from \"./components/headMenu.vue\";\r\nimport { userAuthority } from \"@/utils/authority\";\r\nimport { getUserInfo } from \"@/api/api\";\r\nimport { mapGetters } from \"vuex\";\r\nimport store from '@/vuex/store';\nimport { mapState, mapActions } from 'vuex';\r\n\r\nexport default {\r\n  name: \"navbar\",\r\n  components: {\r\n    headMenu,\r\n    headLabel,\r\n  },\r\n  data() {\r\n    return {\r\n      ifShowAvatar: true,\r\n      userId: \"\",\r\n      timer: null,\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n    this.timer = userAuthority();\r\n\r\n\t\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.timer);\r\n  },\r\n  computed: {\r\n\t...mapState(['userInfo', 'shoppingCart']),\r\n    ...mapGetters({\r\n      getBeforeSearch: \"getBeforeSearch\",\r\n    }),\r\n    beforeSearch: {\r\n      get() {\r\n        return this.getBeforeSearch;\r\n      },\r\n      set(text) {\r\n        return this.$store.commit(\"setBeforeSearch\", text);\r\n      },\r\n    },\r\n    getToken() {\r\n      return !!this.$store.getters.getToken;\r\n    },\r\n    avatarUrl() {\r\n      return this.$store.getters.getUser.avatar;\r\n    },\r\n  },\r\n  methods: {\r\n    async init() {\r\n      this.userId = this.$utils.getUserId();\r\n      if (this.userId) {\r\n        let res = await getUserInfo({ id: this.userId });\r\n        if (res) {\r\n          this.$store.commit(\"setUser\", res.data);\r\n        }\r\n      }\r\n    },\r\n    sendBtn() {\r\n      this.$router.push(\"/article/send\");\r\n    },\r\n    closeMenu(value) {\r\n      this.ifShowAvatar = value;\r\n    },\r\n    //模糊查询文章\r\n    searchArticles() {\r\n      if (this.$route.path != \"/\") {\r\n        this.$router.push(\"/\");\r\n        setTimeout(() => {\r\n          this.$store.commit(\"setSearchForm\", { text: this.beforeSearch, num: 1 });\r\n        }, 50);\r\n      } else {\r\n        this.$store.commit(\"setSearchForm\", { text: this.beforeSearch, num: 1 });\r\n      }\r\n    },\r\n\tgoToPay () {\r\n\t  this.$router.push('/order');\r\n\t},\r\n  },  store\r\n};\r\n",{"version":3,"sources":["forumHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"forumHeader.vue","sourceRoot":"src/layout/header","sourcesContent":["<template>\r\n  <div class=\"nav-main\">\r\n    <div class=\"logo-search\">\r\n      <img src=\"../../assets/logo.png\" alt=\"\" />\r\n      <el-form>\r\n        <el-input placeholder=\"请输入内容\" v-model=\"beforeSearch\" class=\"input-with-select\" style=\"width: 400px\">\r\n          <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchArticles\" class=\"search-button\"></el-button>\r\n        </el-input>\r\n      </el-form>\r\n      <headLabel></headLabel>\r\n    </div>\r\n    <div class=\"btn-main\" v-if=\"!getToken\"  style=\"\">\r\n\t\t <!-- <el-button type=\"success\">\r\n\t\t\t  <el-dropdown >\r\n\t\t\t\t<a href=\"javascript:void(0)\">\r\n\t\t\t\t  <Icon type=\"ios-cart-outline\"></Icon> 购物车\r\n\t\t\t\t</a>\r\n\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\r\n\t\t\t\t\t\r\n\t\t\t\t  <div class=\"shopping-cart-null\" v-show=\"shoppingCart.length <= 0\">\r\n\t\t\t\t\t<Icon type=\"ios-cart-outline\" class=\"cart-null-icon\"></Icon>\r\n\t\t\t\t\t<span>你的购物车没有空空哦</span>\r\n\t\t\t\t\t<span>赶快去添加商品吧~</span>\r\n\t\t\t\t  </div>\r\n\t\t\t\t  <div class=\"shopping-cart-list\" v-show=\"shoppingCart.length > 0\">\r\n\t\t\t\t\t<div class=\"shopping-cart-box\" v-for=\"(item,index) in shoppingCart\" :key=\"index\">\r\n\t\t\t\t\t  <div class=\"shopping-cart-img\">\r\n\t\t\t\t\t\t<img :src=\"item.img\">\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div class=\"shopping-cart-info\">\r\n\t\t\t\t\t\t<div class=\"shopping-cart-title\">\r\n\t\t\t\t\t\t  <p>{{item.title.substring(0, 22)}}...</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"shopping-cart-detail\">\r\n\t\t\t\t\t\t  <p>\r\n\t\t\t\t\t\t\t套餐:\r\n\t\t\t\t\t\t\t<span class=\"shopping-cart-text\">\r\n\t\t\t\t\t\t\t  {{item.package}}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t数量:\r\n\t\t\t\t\t\t\t<span class=\"shopping-cart-text\">\r\n\t\t\t\t\t\t\t  {{item.count}}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t价钱:\r\n\t\t\t\t\t\t\t<span class=\"shopping-cart-text\">\r\n\t\t\t\t\t\t\t  {{item.price}}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t  </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"go-to-buy\">\r\n\t\t\t\t\t  <Button type=\"error\" size=\"small\" @click=\"goToPay\">\r\n\t\t\t\t\t\t去结账\r\n\t\t\t\t\t  </Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</el-dropdown-menu>\r\n\t\t\t  </el-dropdown></el-button> -->\r\n\t\t  <el-button type=\"primary\" @click=\"$router.push('/register')\">注册</el-button>\r\n\t\t  <el-button type=\"success\" @click=\"$router.push('/login')\">登录</el-button>\r\n\t\t  \r\n\t</div>\r\n    <div class=\"my-box\" v-else>\r\n\t\t <img :src=\"avatarUrl\" alt=\" \" @mouseenter=\"ifShowAvatar = false\" v-show=\"ifShowAvatar\" />\r\n\t\t \t<div style=\"width: 10px;\"></div>\r\n\t  <el-button type=\"success\">\r\n\t  \t\t\t  <el-dropdown >\r\n\t  \t\t\t\t<a href=\"javascript:void(0)\" style=\"text-decoration:none;font-style: normal;color:white;fon;width: 200px;\">\r\n\t  \t\t\t\t  <Icon type=\"ios-cart-outline\"></Icon> 购物车\r\n\t  \t\t\t\t</a>\r\n\t  \t\t\t\t<el-dropdown-menu slot=\"dropdown\">\r\n\t  \t\t\t\t\t\r\n\t  \t\t\t\t  <div class=\"shopping-cart-null\" v-show=\"shoppingCart.length <= 0\">\r\n\t  \t\t\t\t\t<Icon type=\"ios-cart-outline\" class=\"cart-null-icon\"></Icon>\r\n\t  \t\t\t\t\t<span>你的购物车没有空空哦</span>\r\n\t  \t\t\t\t\t<span>赶快去添加商品吧~</span>\r\n\t  \t\t\t\t  </div>\r\n\t  \t\t\t\t  <div class=\"shopping-cart-list\" v-show=\"shoppingCart.length > 0\">\r\n\t  \t\t\t\t\t<div class=\"shopping-cart-box\" v-for=\"(item,index) in shoppingCart\" :key=\"index\">\r\n\t  \t\t\t\t\t  <div class=\"shopping-cart-img\">\r\n\t  \t\t\t\t\t\t<img :src=\"item.img\">\r\n\t  \t\t\t\t\t  </div>\r\n\t  \t\t\t\t\t  <div class=\"shopping-cart-info\">\r\n\t  \t\t\t\t\t\t<div class=\"shopping-cart-title\">\r\n\t  \t\t\t\t\t\t  <p>{{item.title.substring(0, 22)}}...</p>\r\n\t  \t\t\t\t\t\t</div>\r\n\t  \t\t\t\t\t\t<div class=\"shopping-cart-detail\">\r\n\t  \t\t\t\t\t\t  <p>\r\n\t  \t\t\t\t\t\t\t套餐:\r\n\t  \t\t\t\t\t\t\t<span class=\"shopping-cart-text\">\r\n\t  \t\t\t\t\t\t\t  {{item.package}}\r\n\t  \t\t\t\t\t\t\t</span>\r\n\t  \t\t\t\t\t\t\t数量:\r\n\t  \t\t\t\t\t\t\t<span class=\"shopping-cart-text\">\r\n\t  \t\t\t\t\t\t\t  {{item.count}}\r\n\t  \t\t\t\t\t\t\t</span>\r\n\t  \t\t\t\t\t\t\t价钱:\r\n\t  \t\t\t\t\t\t\t<span class=\"shopping-cart-text\">\r\n\t  \t\t\t\t\t\t\t  {{item.price}}\r\n\t  \t\t\t\t\t\t\t</span>\r\n\t  \t\t\t\t\t\t  </p>\r\n\t  \t\t\t\t\t\t</div>\r\n\t  \t\t\t\t\t  </div>\r\n\t  \t\t\t\t\t</div>\r\n\t  \t\t\t\t\t<div class=\"go-to-buy\">\r\n\t  \t\t\t\t\t  <Button type=\"error\" size=\"small\" @click=\"goToPay\">\r\n\t  \t\t\t\t\t\t去结账\r\n\t  \t\t\t\t\t  </Button>\r\n\t  \t\t\t\t\t</div>\r\n\t  \t\t\t\t  </div>\r\n\t  \t\t\t\t</el-dropdown-menu>\r\n\t  \t\t\t  </el-dropdown></el-button>\r\n\t             <div style=\"width: 40px;\"></div>\r\n\t\t\t\t  <el-button type=\"danger\" @click=\"sendBtn\" :class=\"{ opacitySend: $route.name == 'SendArticle' || $route.name == 'UpdateArticle' }\">发布</el-button>\r\n\t \r\n\t<!-- <img :src=\"avatarUrl\" alt=\" \" @mouseenter=\"ifShowAvatar = false\" v-show=\"ifShowAvatar\" /> -->\r\n\t<!--  <img :src=\"avatarUrl\" alt=\" \" @mouseenter=\"ifShowAvatar = false\" v-show=\"ifShowAvatar\" /> --> \r\n     <!-- <el-button type=\"danger\" @click=\"sendBtn\" :class=\"{ opacitySend: $route.name == 'SendArticle' || $route.name == 'UpdateArticle' }\">发布</el-button> -->\r\n    </div>\r\n    <div @mouseenter=\"ifShowAvatar = false\" @mouseleave=\"ifShowAvatar = true\" v-show=\"!ifShowAvatar\" class=\"avatar-hover\">\r\n      <headMenu @closeMenu=\"closeMenu\"></headMenu>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport headLabel from \"./components/headLabel.vue\";\r\nimport headMenu from \"./components/headMenu.vue\";\r\nimport { userAuthority } from \"@/utils/authority\";\r\nimport { getUserInfo } from \"@/api/api\";\r\nimport { mapGetters } from \"vuex\";\r\nimport store from '@/vuex/store';\nimport { mapState, mapActions } from 'vuex';\r\n\r\nexport default {\r\n  name: \"navbar\",\r\n  components: {\r\n    headMenu,\r\n    headLabel,\r\n  },\r\n  data() {\r\n    return {\r\n      ifShowAvatar: true,\r\n      userId: \"\",\r\n      timer: null,\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n    this.timer = userAuthority();\r\n\r\n\t\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.timer);\r\n  },\r\n  computed: {\r\n\t...mapState(['userInfo', 'shoppingCart']),\r\n    ...mapGetters({\r\n      getBeforeSearch: \"getBeforeSearch\",\r\n    }),\r\n    beforeSearch: {\r\n      get() {\r\n        return this.getBeforeSearch;\r\n      },\r\n      set(text) {\r\n        return this.$store.commit(\"setBeforeSearch\", text);\r\n      },\r\n    },\r\n    getToken() {\r\n      return !!this.$store.getters.getToken;\r\n    },\r\n    avatarUrl() {\r\n      return this.$store.getters.getUser.avatar;\r\n    },\r\n  },\r\n  methods: {\r\n    async init() {\r\n      this.userId = this.$utils.getUserId();\r\n      if (this.userId) {\r\n        let res = await getUserInfo({ id: this.userId });\r\n        if (res) {\r\n          this.$store.commit(\"setUser\", res.data);\r\n        }\r\n      }\r\n    },\r\n    sendBtn() {\r\n      this.$router.push(\"/article/send\");\r\n    },\r\n    closeMenu(value) {\r\n      this.ifShowAvatar = value;\r\n    },\r\n    //模糊查询文章\r\n    searchArticles() {\r\n      if (this.$route.path != \"/\") {\r\n        this.$router.push(\"/\");\r\n        setTimeout(() => {\r\n          this.$store.commit(\"setSearchForm\", { text: this.beforeSearch, num: 1 });\r\n        }, 50);\r\n      } else {\r\n        this.$store.commit(\"setSearchForm\", { text: this.beforeSearch, num: 1 });\r\n      }\r\n    },\r\n\tgoToPay () {\r\n\t  this.$router.push('/order');\r\n\t},\r\n  },  store\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.nav-main {\r\n  width: 100%;\r\n  height: 64px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: #444d56;\r\n  line-height: 64px;\r\n  text-align: center;\r\n}\r\n.logo-search {\r\n  width: 770px;\r\n  display: flex;\r\n  margin-left: 100px;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.search-button:hover {\r\n  width: 56px;\r\n  /deep/.el-icon-search {\r\n    &::before {\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n    }\r\n  }\r\n}\r\n.btn-main {\r\n  margin-right: 200px;\r\n}\r\n.logo-search > img {\r\n  width: 40px;\r\n  height: 40px;\r\n  margin-right: 20px;\r\n  border-radius: 50%;\r\n}\r\n.el-form-item {\r\n  margin-bottom: 0px;\r\n}\r\n.el-form > .el-input {\r\n  width: 300px;\r\n}\r\n.my-box > img {\r\n  width: 32px;\r\n  height: 32px;\r\n  margin-right: 20px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n}\r\n.my-box {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-right: 30px;\r\n}\r\n.opacitySend {\r\n  visibility: hidden;\r\n}\r\n.avatar-hover {\r\n  position: fixed;\r\n  top: 64px;\r\n  right: 50px;\r\n  z-index: 2021;\r\n}\r\n.el-button--danger {\r\n  color: #fff;\r\n  border: 1px solid #0099ff;\r\n  background-color: #0099ff;\r\n\r\n  &:hover {\r\n    border: 1px solid #015bf1;\r\n    background-color: #015bf1;\r\n  }\r\n}\r\n.box {\n  width: 100%;\n  height: 35px;\n  background-color: #e3e4e5;\n}\n.nav {\n  margin: 0% auto;\n  width: 90%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.nav ul {\n  list-style: none;\n}\n.nav li {\n  float: left;\n  font-size: 14px;\n  line-height: 35px;\n  margin-right: 15px;\n  font-weight: bold;\n}\n.nav a {\n  text-decoration: none;\n  color: #999999;\n  padding-left: 15px;\n  border-left: 1px solid #ccc;\n  cursor: pointer;\n}\n.location a {\n  border-left: none;\n}\n.nav a:hover {\n  color: #d9534f;\n}\n.location {\n  color: #999999;\n}\n.icon {\n  color: #d9534f;\n}\n.first {\n  color: #999999;\n}\n.first a:first-child {\n  padding-left: 3px;\n  border-left: none;\n}\n.city {\n  padding: 10px 15px;\n}\n.city-item {\n  font-weight: bold;\n  cursor: pointer;\n  padding: 5px;\n}\n.city-item:hover {\n  color: #d9534f;\n}\n.person-icon {\n  color: #d9534f;\n  background-color:  #f0cdb2;\n}\n.username {\n  color: #999999;\n}\n.shopping-cart-list {\n  padding: 3px 15px;\n}\n.shopping-cart-box {\n  margin: 8px 0px;\n  margin-top: 15px;\n  padding-bottom: 15px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px #ccc dotted;\n}\n.shopping-cart-box:first-child {\n  margin-top: 8px;\n}\n.shopping-cart-img {\n  margin-right: 15px;\n  width: 40px;\n  height: 40px;\n}\n.shopping-cart-img img {\n  width: 100%;\n}\n.shopping-cart-info {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-content: space-between;\n  width: 200px;\n  overflow: hidden;\n  font-size: 12px;\n  line-height: 20px;\n  color: #999999;\n}\n.shopping-cart-detail {\n  color: #999999;\n}\n.shopping-cart-text {\n  color: #ccc;\n}\n.go-to-buy {\n  display: flex;\n  justify-content: flex-end;\n}\n.shopping-cart-null {\n  padding: 15px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.cart-null-icon {\n  font-size: 38px;\n  margin-bottom: 15px;\n}\n.shopping-cart-null span {\n  color: #999999;\n  font-size: 12px;\n  line-height: 16px;\n}\n.username-p {\n  cursor: pointer;\n}\n.my-page {\n  padding: 3px 5px;\n  width: 180px;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.my-page a {\n  margin: 0px;\n  padding: 0px;\n  border: none;\n}\n.my-info {\n  padding: 5px;\n  width: 50%;\n  height: 100%;\n  text-align: center;\n  cursor: pointer;\n}\n.my-info:hover {\n  box-shadow: 0px 0px 5px #ccc;\n}\n.my-info i {\n  font-size: 28px;\n}\n.my-info p {\n  font-size: 12px;\n}\n.sign-out {\n  padding: 5px;\n  width: 50%;\n  height: 100%;\n  text-align: center;\n  cursor: pointer;\n}\n.sign-out:hover {\n  box-shadow: 0px 0px 5px #ccc;\n}\n.sign-out i {\n  font-size: 28px;\n}\n.sign-out p {\n  font-size: 12px;\n}\r\n</style>"]}]}