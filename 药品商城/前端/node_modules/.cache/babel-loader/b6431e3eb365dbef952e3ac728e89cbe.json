{"remainingRequest":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\babel-loader\\lib\\index.js!F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\HBuilderX软件\\Project\\brainHealth\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\src\\views\\login.vue","mtime":1653064172499},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652884357093},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\babel-loader\\lib\\index.js","mtime":1652881229298},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652884357073},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1652886624014},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652884357093},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\babel-loader\\lib\\index.js","mtime":1652881229298},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652884357073},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1652886624014}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L0hCdWlsZGVyWFx1OEY2Rlx1NEVGNi9Qcm9qZWN0L2JyYWluSGVhbHRoL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGxvZ2luUnVsZSB9IGZyb20gIkAvdXRpbHMvcnVsZXMiOwppbXBvcnQgeyBsb2dpbkFwaSB9IGZyb20gIkAvYXBpL2FwaSI7CmltcG9ydCBiZyBmcm9tICJAL2NvbXBvbmVudHMvY29tbW9uL2JnLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibG9naW4iLAogIGNvbXBvbmVudHM6IHsKICAgIGJnOiBiZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgbmlja25hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBsb2dpblJ1bGU6IGxvZ2luUnVsZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMucnVsZUZvcm0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodmFsaWQpIHsKICAgICAgICAgIHZhciByZXMsIGxvYWRpbmc7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIHJldHVybiBsb2dpbkFwaShfdGhpcy5ydWxlRm9ybSk7CgogICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlICE9IDIwMCkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLor7fovpPlhaXmraPnoa7lr4bnoIHmiJbms6jlhowiKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBsb2FkaW5nID0gX3RoaXMuJGxvYWRpbmcoewogICAgICAgICAgICAgICAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICLmraPlnKjliqDovb3kuK0uLi4uLi4iLAogICAgICAgICAgICAgICAgICAgICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIsCiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIgogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRUb2tlbiIsIHJlcy50b2tlbik7CgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy50b2tlbik7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEuX2lkKSk7CiAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShsb2FkaW5nLmNsb3NlKCkpOwogICAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAqBA,SAAA,SAAA,QAAA,eAAA;AACA,SAAA,QAAA,QAAA,WAAA;AACA,OAAA,EAAA,MAAA,4BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,EAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,SAAA,EAAA;AALA,KAAA;AAOA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,QAAA;AAAA,2EAAA,iBAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KADA;AAAA;AAAA;AAAA;;AAAA;AAAA,yBAGA,QAAA,CAAA,KAAA,CAAA,QAAA,CAHA;;AAAA;AAGA,kBAAA,GAHA;;AAIA,sBAAA,GAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,oBAAA,KAAA,CAAA,YAAA,CAAA;AACA,mBAFA,MAEA;AACA,oBAAA,OADA,GACA,KAAA,CAAA,QAAA,CAAA;AACA,sBAAA,IAAA,EAAA,IADA;AAEA,sBAAA,IAAA,EAAA,aAFA;AAGA,sBAAA,OAAA,EAAA,iBAHA;AAIA,sBAAA,UAAA,EAAA;AAJA,qBAAA,CADA;;AAOA,oBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA,GAAA,CAAA,KAAA;;AACA,oBAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,KAAA;AACA,oBAAA,YAAA,CAAA,OAAA,CAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA,wBAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,6BAAA,UAAA,CAAA,YAAA;AACA,wBAAA,OAAA,CAAA,OAAA,CAAA,KAAA,EAAA,CAAA;AACA,uBAFA,EAEA,GAFA,CAAA;AAGA,qBAJA,EAIA,IAJA,CAIA,YAAA;AACA,sBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,qBANA;AAOA;;AAvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA;AA0BA;AA5BA;AAZA,CAAA","sourcesContent":["<template>\n  <bg>\n    <template v-slot:formWrap>\n      <div class=\"tips\">\n        <p>欢迎登录</p>\n        <p>悠悠洛克网</p>\n      </div>\n      <el-form class=\"form-box\" ref=\"ruleForm\" :model=\"ruleForm\" :rules=\"loginRule\" label-width=\"0\" label-position=\"left\">\n        <el-form-item prop=\"nickname\">\n          <el-input prefix-icon=\"el-icon-s-custom\" class=\"info\" v-model=\"ruleForm.nickname\" placeholder=\"请输入用户名\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input type=\"password\" prefix-icon=\"el-icon-unlock\" class=\"info\" v-model=\"ruleForm.password\" placeholder=\"请输入密码\" @keyup.enter.native=\"login\"></el-input>\n        </el-form-item>\n        <el-button class=\"confirm-btn\" type=\"success\" @click=\"login\">登录</el-button>\n      </el-form>\n    </template>\n  </bg>\n</template>\n\n<script>\nimport { loginRule } from \"@/utils/rules\";\nimport { loginApi } from \"@/api/api\";\nimport bg from \"@/components/common/bg.vue\";\nexport default {\n  name: \"login\",\n  components: { bg },\n  data() {\n    return {\n      ruleForm: {\n        nickname: \"\",\n        password: \"\",\n      },\n      loginRule: loginRule,\n    };\n  },\n  methods: {\n    login() {\n      this.$refs.ruleForm.validate(async (valid) => {\n        if (valid) {\r\n\t\t\t//let res={\"data\":{\"_id\":\"1111111111\"},\"token\":\"111111\"}\n           let res = await loginApi(this.ruleForm);\n            if (res.code!=200){\r\n\t\t\t\talert(\"请输入正确密码或注册\");\r\n\t\t   }else{\n          const loading = this.$loading({\n            lock: true,\n            text: \"正在加载中......\",\n            spinner: \"el-icon-loading\",\n            background: \"rgba(0, 0, 0, 0.7)\",\n          }); \n          this.$store.commit(\"setToken\", res.token);\r\n\t\t  console.log(res.token);\n          localStorage.setItem(\"id\", JSON.stringify(res.data._id));\n          new Promise((resolve) => {\n            return setTimeout(() => {\n              resolve(loading.close());\n            }, 300);\n          }).then(() => {\n            this.$router.push(\"/\");\n          });\r\n\t\t  }\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.tips {\n  p {\n    font-size: 24px;\n    text-align: center;\n    margin: 5px;\n    padding: 0px;\n    color: #ffffff;\n    padding-bottom: 10px;\n    letter-spacing: 5px;\n  }\n}\n\n.form-box {\n  width: 100%;\n  margin-top: 10px;\n\n  .info {\n    font-size: 20px;\n    & > .el-input__prefix > .el-input__icon {\n      color: #454545;\n    }\n    & > input {\n      width: 100%;\n      padding-left: 40px;\n      font-size: 16px;\n    }\n  }\n\n  .confirm-btn {\n    width: 100%;\n    height: 40px;\n    display: flex;\n    justify-content: center;\n    background-color: #33c481;\n    border: none;\n    align-items: center;\n    letter-spacing: 15px;\n    & > i {\n      letter-spacing: normal;\n    }\n  }\n  .el-button {\n    font-size: 16px;\n  }\n  .confirm-btn:hover {\n    background-color: #55ff00;\n    opacity: 0.8;\n  }\n}\n</style>\n<style lang=\"less\">\n.el-loading-mask {\n  .el-loading-spinner {\n    .el-icon-loading {\n      font-size: 24px;\n    }\n    .el-loading-text {\n      font-size: 18px;\n    }\n  }\n}\n</style>"],"sourceRoot":"src/views"}]}