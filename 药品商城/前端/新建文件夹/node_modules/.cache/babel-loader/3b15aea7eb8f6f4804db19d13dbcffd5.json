{"remainingRequest":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\babel-loader\\lib\\index.js!F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\HBuilderX软件\\Project\\brainHealth\\src\\views\\user\\updatePass\\updatePass.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\src\\views\\user\\updatePass\\updatePass.vue","mtime":1634182984000},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652884357093},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\babel-loader\\lib\\index.js","mtime":1652881229298},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652884357073},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1652886624014}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L0hCdWlsZGVyWFx1OEY2Rlx1NEVGNi9Qcm9qZWN0L2JyYWluSGVhbHRoL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgdXBkYXRlUGFzc1J1bGUgfSBmcm9tICJAL3V0aWxzL3J1bGVzIjsKaW1wb3J0IHsgdXBkYXRlUGFzc0FwaSB9IGZyb20gIkAvYXBpL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidXBkYXRlUGFzcyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgb2xkcGFzczogIiIsCiAgICAgICAgbmV3cGFzczogIiIsCiAgICAgICAgb2twYXNzOiAiIiwKICAgICAgICBfaWQ6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImlkIikpCiAgICAgIH0sCiAgICAgIHVwZGF0ZVBhc3NSdWxlOiB1cGRhdGVQYXNzUnVsZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZVBhc3M6IGZ1bmN0aW9uIHVwZGF0ZVBhc3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJHJlZnMucnVsZUZvcm0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlczsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnJ1bGVGb3JtLm5ld3Bhc3MgPT09IF90aGlzLnJ1bGVGb3JtLm9rcGFzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHVwZGF0ZVBhc3NBcGkoX3RoaXMucnVsZUZvcm0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kdXRpbHMuZWxNZXNzYWdlQm94KCLkv67mlLnlr4bnoIHmiJDlip8s6K+36YeN5paw55m75b2VIiwgInN1Y2Nlc3MiLCA1MDApOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA3MDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBuaWNrbmFtZTogZnVuY3Rpb24gbmlja25hbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFVzZXIubmlja25hbWU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["updatePass.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,SAAA,cAAA,QAAA,eAAA;AACA,SAAA,aAAA,QAAA,WAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,MAAA,EAAA,EAHA;AAIA,QAAA,GAAA,EAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAJA,OADA;AAOA,MAAA,cAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,QAAA;AAAA,qFAAA,iBAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gCAAA,KAAA,EAAA;AACA,kCAAA,KAAA,CAAA,QAAA,CAAA,OAAA,KAAA,KAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AACA,gCAAA,GADA,GACA,aAAA,CAAA,KAAA,CAAA,QAAA,CADA;;AAEA,oCAAA,GAAA,EAAA;AACA,kCAAA,KAAA,CAAA,MAAA,CAAA,YAAA,CAAA,cAAA,EAAA,SAAA,EAAA,GAAA;;AACA,kCAAA,UAAA,CAAA,YAAA;AACA,oCAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;;AACA,oCAAA,YAAA,CAAA,KAAA;AACA,mCAHA,EAGA,GAHA,CAAA;AAIA;AACA;AACA;;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA;;AAAA;AAAA;AAAA;AAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AAhBA,GAbA;AA+BA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA,QAAA;AACA;AAHA;AA/BA,CAAA","sourcesContent":["<template>\n  <div class=\"password-box\">\n    <div class=\"update-password\">\n      <div class=\"input-item nickname\">\n        <p>用户名</p>\n        <el-input v-model=\"nickname\" disabled></el-input>\n      </div>\n      <el-form class=\"ruleForm-box\" ref=\"ruleForm\" :model=\"ruleForm\" :rules=\"updatePassRule\" label-width=\"0\" label-position=\"left\">\n        <el-form-item prop=\"oldpass\">\n          <div class=\"input-item\">\n            <p>旧密码</p>\n            <el-input v-model=\"ruleForm.oldpass\" show-password placeholder=\"请输入旧密码\"></el-input>\n          </div>\n        </el-form-item>\n        <el-form-item prop=\"newpass\">\n          <div class=\"input-item\">\n            <p>新密码</p>\n            <el-input v-model=\"ruleForm.newpass\" show-password placeholder=\"请输入新密码\"></el-input>\n          </div>\n        </el-form-item>\n        <el-form-item prop=\"okpass\">\n          <div class=\"input-item\">\n            <p>确认密码</p>\n            <el-input v-model=\"ruleForm.okpass\" show-password placeholder=\"请再次输入新密码\"></el-input>\n          </div>\n        </el-form-item>\n        <div class=\"input-item confirm-btn\">\n          <el-button type=\"primary\" @click=\"updatePass\">确 定</el-button>\n        </div>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { updatePassRule } from \"@/utils/rules\";\nimport { updatePassApi } from \"@/api/api\";\nexport default {\n  name: \"updatePass\",\n  data() {\n    return {\n      ruleForm: {\n        oldpass: \"\",\n        newpass: \"\",\n        okpass: \"\",\n        _id: JSON.parse(localStorage.getItem(\"id\")),\n      },\n      updatePassRule: updatePassRule,\n    };\n  },\n  methods: {\n    async updatePass() {\n      this.$refs.ruleForm.validate(async (valid) => {\n        if (valid) {\n          if (this.ruleForm.newpass === this.ruleForm.okpass) {\n            const res = updatePassApi(this.ruleForm);\n            if (res) {\n              this.$utils.elMessageBox(\"修改密码成功,请重新登录\", \"success\", 500);\n              setTimeout(() => {\n                this.$router.push(\"/login\");\n                localStorage.clear();\n              }, 700);\n            }\n          }\n        }\n      });\n    },\n  },\n  computed: {\n    nickname() {\n      return this.$store.getters.getUser.nickname;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.password-box {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .update-password {\n    width: 1000px;\n    box-shadow: 0 0px 30px 3px #aaa;\n    height: 500px;\n    margin-top: 20px;\n    padding-top: 100px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    .input-item {\n      display: flex;\n      height: 80px;\n      align-items: center;\n      p {\n        width: 100px;\n        font-weight: 550;\n      }\n      .el-input {\n        width: 500px;\n      }\n    }\n    .nickname {\n      p {\n        font-size: 14px;\n      }\n    }\n    .input-item:nth-child(4) {\n      .el-button {\n        padding: 15px 50px;\n        font-size: 16px;\n        letter-spacing: 5px;\n      }\n    }\n    .confirm-btn {\n      justify-content: center;\n    }\n  }\n  /deep/.el-form-item__content {\n    .el-form-item__error {\n      position: absolute;\n      font-size: 14px;\n      top: 65px;\n      left: 100px;\n    }\n  }\n}\n</style>"],"sourceRoot":"src/views/user/updatePass"}]}