{"remainingRequest":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\babel-loader\\lib\\index.js!F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\HBuilderX软件\\Project\\brainHealth\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\src\\views\\login.vue","mtime":1652769550968},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652873263289},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\babel-loader\\lib\\index.js","mtime":1652873271922},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652873263289},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\vue-loader\\lib\\index.js","mtime":1652873270400}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"F:\\\\HBuilderX\\u8F6F\\u4EF6\\\\Project\\\\brainHealth\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { loginRule } from \"@/utils/rules\";\nimport { loginApi } from \"@/api/api\";\nimport bg from \"@/components/common/bg.vue\";\nexport default {\n  name: \"login\",\n  components: {\n    bg: bg\n  },\n  data: function data() {\n    return {\n      ruleForm: {\n        nickname: \"\",\n        password: \"\"\n      },\n      loginRule: loginRule\n    };\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      this.$refs.ruleForm.validate(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee(valid) {\n          var res, loading;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (valid) {\n                    res = {\n                      \"data\": {\n                        \"_id\": \"1111111111\"\n                      },\n                      \"token\": \"111111\" // let res = await loginApi(this.ruleForm);\n                      // if (!res) return;\n\n                    };\n                    loading = _this.$loading({\n                      lock: true,\n                      text: \"正在加载中......\",\n                      spinner: \"el-icon-loading\",\n                      background: \"rgba(0, 0, 0, 0.7)\"\n                    });\n\n                    _this.$store.commit(\"setToken\", res.token);\n\n                    localStorage.setItem(\"id\", JSON.stringify(res.data._id));\n                    new Promise(function (resolve) {\n                      return setTimeout(function () {\n                        resolve(loading.close());\n                      }, 300);\n                    }).then(function () {\n                      _this.$router.push(\"/\");\n                    });\n                  }\n\n                case 1:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAqBA,SAAA,SAAA,QAAA,eAAA;AACA,SAAA,QAAA,QAAA,WAAA;AACA,OAAA,EAAA,MAAA,4BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,EAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,SAAA,EAAA;AALA,KAAA;AAOA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAA,iBAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,sBAAA,KAAA,EAAA;AACA,oBAAA,GADA,GACA;AAAA,8BAAA;AAAA,+BAAA;AAAA,uBAAA;AAAA,+BAAA,QAAA,CACA;AACA;;AAFA,qBADA;AAIA,oBAAA,OAJA,GAIA,KAAA,CAAA,QAAA,CAAA;AACA,sBAAA,IAAA,EAAA,IADA;AAEA,sBAAA,IAAA,EAAA,aAFA;AAGA,sBAAA,OAAA,EAAA,iBAHA;AAIA,sBAAA,UAAA,EAAA;AAJA,qBAAA,CAJA;;AAUA,oBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA,GAAA,CAAA,KAAA;;AACA,oBAAA,YAAA,CAAA,OAAA,CAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA,wBAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,6BAAA,UAAA,CAAA,YAAA;AACA,wBAAA,OAAA,CAAA,OAAA,CAAA,KAAA,EAAA,CAAA;AACA,uBAFA,EAEA,GAFA,CAAA;AAGA,qBAJA,EAIA,IAJA,CAIA,YAAA;AACA,sBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,qBANA;AAOA;;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA;AAsBA;AAxBA;AAZA,CAAA","sourcesContent":["<template>\n  <bg>\n    <template v-slot:formWrap>\n      <div class=\"tips\">\n        <p>欢迎登录</p>\n        <p>悠悠洛克网</p>\n      </div>\n      <el-form class=\"form-box\" ref=\"ruleForm\" :model=\"ruleForm\" :rules=\"loginRule\" label-width=\"0\" label-position=\"left\">\n        <el-form-item prop=\"nickname\">\n          <el-input prefix-icon=\"el-icon-s-custom\" class=\"info\" v-model=\"ruleForm.nickname\" placeholder=\"请输入用户名\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input type=\"password\" prefix-icon=\"el-icon-unlock\" class=\"info\" v-model=\"ruleForm.password\" placeholder=\"请输入密码\" @keyup.enter.native=\"login\"></el-input>\n        </el-form-item>\n        <el-button class=\"confirm-btn\" type=\"success\" @click=\"login\">登录</el-button>\n      </el-form>\n    </template>\n  </bg>\n</template>\n\n<script>\nimport { loginRule } from \"@/utils/rules\";\nimport { loginApi } from \"@/api/api\";\nimport bg from \"@/components/common/bg.vue\";\nexport default {\n  name: \"login\",\n  components: { bg },\n  data() {\n    return {\n      ruleForm: {\n        nickname: \"\",\n        password: \"\",\n      },\n      loginRule: loginRule,\n    };\n  },\n  methods: {\n    login() {\n      this.$refs.ruleForm.validate(async (valid) => {\n        if (valid) {\r\n\t\t\tlet res={\"data\":{\"_id\":\"1111111111\"},\"token\":\"111111\"}\n         // let res = await loginApi(this.ruleForm);\n         // if (!res) return;\n          const loading = this.$loading({\n            lock: true,\n            text: \"正在加载中......\",\n            spinner: \"el-icon-loading\",\n            background: \"rgba(0, 0, 0, 0.7)\",\n          }); \n          this.$store.commit(\"setToken\", res.token);\n          localStorage.setItem(\"id\", JSON.stringify(res.data._id));\n          new Promise((resolve) => {\n            return setTimeout(() => {\n              resolve(loading.close());\n            }, 300);\n          }).then(() => {\n            this.$router.push(\"/\");\n          });\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.tips {\n  p {\n    font-size: 24px;\n    text-align: center;\n    margin: 5px;\n    padding: 0px;\n    color: #ffffff;\n    padding-bottom: 10px;\n    letter-spacing: 5px;\n  }\n}\n\n.form-box {\n  width: 100%;\n  margin-top: 10px;\n\n  .info {\n    font-size: 20px;\n    & > .el-input__prefix > .el-input__icon {\n      color: #454545;\n    }\n    & > input {\n      width: 100%;\n      padding-left: 40px;\n      font-size: 16px;\n    }\n  }\n\n  .confirm-btn {\n    width: 100%;\n    height: 40px;\n    display: flex;\n    justify-content: center;\n    background-color: #33c481;\n    border: none;\n    align-items: center;\n    letter-spacing: 15px;\n    & > i {\n      letter-spacing: normal;\n    }\n  }\n  .el-button {\n    font-size: 16px;\n  }\n  .confirm-btn:hover {\n    background-color: #55ff00;\n    opacity: 0.8;\n  }\n}\n</style>\n<style lang=\"less\">\n.el-loading-mask {\n  .el-loading-spinner {\n    .el-icon-loading {\n      font-size: 24px;\n    }\n    .el-loading-text {\n      font-size: 18px;\n    }\n  }\n}\n</style>"],"sourceRoot":"src/views"}]}