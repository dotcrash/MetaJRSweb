{"remainingRequest":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\HBuilderX软件\\Project\\brainHealth\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\src\\views\\login.vue","mtime":1653060235417},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652884357093},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\babel-loader\\lib\\index.js","mtime":1652881229298},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652884357073},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1652886624014}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxvZ2luUnVsZSB9IGZyb20gIkAvdXRpbHMvcnVsZXMiOwppbXBvcnQgeyBsb2dpbkFwaSB9IGZyb20gIkAvYXBpL2FwaSI7CmltcG9ydCBiZyBmcm9tICJAL2NvbXBvbmVudHMvY29tbW9uL2JnLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibG9naW4iLAogIGNvbXBvbmVudHM6IHsgYmcgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcnVsZUZvcm06IHsKICAgICAgICBuaWNrbmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICB9LAogICAgICBsb2dpblJ1bGU6IGxvZ2luUnVsZSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbigpIHsKICAgICAgdGhpcy4kcmVmcy5ydWxlRm9ybS52YWxpZGF0ZShhc3luYyAodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsNCgkJCS8vbGV0IHJlcz17ImRhdGEiOnsiX2lkIjoiMTExMTExMTExMSJ9LCJ0b2tlbiI6IjExMTExMSJ9CiAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IGxvZ2luQXBpKHRoaXMucnVsZUZvcm0pOwogICAgICAgICAgICBpZiAocmVzLmNvZGUhPTIwMCl7DQoJCQkJYWxlcnQoIuivt+i+k+WFpeato+ehruWvhueggeaIluazqOWGjCIpOw0KCQkgICB9ZWxzZXsKICAgICAgICAgIGNvbnN0IGxvYWRpbmcgPSB0aGlzLiRsb2FkaW5nKHsKICAgICAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICAgICAgdGV4dDogIuato+WcqOWKoOi9veS4rS4uLi4uLiIsCiAgICAgICAgICAgIHNwaW5uZXI6ICJlbC1pY29uLWxvYWRpbmciLAogICAgICAgICAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIiwKICAgICAgICAgIH0pOyAKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0VG9rZW4iLCByZXMudG9rZW4pOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEuX2lkKSk7CiAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgcmVzb2x2ZShsb2FkaW5nLmNsb3NlKCkpOwogICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgICB9KTsNCgkJICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <bg>\n    <template v-slot:formWrap>\n      <div class=\"tips\">\n        <p>欢迎登录</p>\n        <p>悠悠洛克网</p>\n      </div>\n      <el-form class=\"form-box\" ref=\"ruleForm\" :model=\"ruleForm\" :rules=\"loginRule\" label-width=\"0\" label-position=\"left\">\n        <el-form-item prop=\"nickname\">\n          <el-input prefix-icon=\"el-icon-s-custom\" class=\"info\" v-model=\"ruleForm.nickname\" placeholder=\"请输入用户名\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input type=\"password\" prefix-icon=\"el-icon-unlock\" class=\"info\" v-model=\"ruleForm.password\" placeholder=\"请输入密码\" @keyup.enter.native=\"login\"></el-input>\n        </el-form-item>\n        <el-button class=\"confirm-btn\" type=\"success\" @click=\"login\">登录</el-button>\n      </el-form>\n    </template>\n  </bg>\n</template>\n\n<script>\nimport { loginRule } from \"@/utils/rules\";\nimport { loginApi } from \"@/api/api\";\nimport bg from \"@/components/common/bg.vue\";\nexport default {\n  name: \"login\",\n  components: { bg },\n  data() {\n    return {\n      ruleForm: {\n        nickname: \"\",\n        password: \"\",\n      },\n      loginRule: loginRule,\n    };\n  },\n  methods: {\n    login() {\n      this.$refs.ruleForm.validate(async (valid) => {\n        if (valid) {\r\n\t\t\t//let res={\"data\":{\"_id\":\"1111111111\"},\"token\":\"111111\"}\n           let res = await loginApi(this.ruleForm);\n            if (res.code!=200){\r\n\t\t\t\talert(\"请输入正确密码或注册\");\r\n\t\t   }else{\n          const loading = this.$loading({\n            lock: true,\n            text: \"正在加载中......\",\n            spinner: \"el-icon-loading\",\n            background: \"rgba(0, 0, 0, 0.7)\",\n          }); \n          this.$store.commit(\"setToken\", res.token);\n          localStorage.setItem(\"id\", JSON.stringify(res.data._id));\n          new Promise((resolve) => {\n            return setTimeout(() => {\n              resolve(loading.close());\n            }, 300);\n          }).then(() => {\n            this.$router.push(\"/\");\n          });\r\n\t\t  }\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.tips {\n  p {\n    font-size: 24px;\n    text-align: center;\n    margin: 5px;\n    padding: 0px;\n    color: #ffffff;\n    padding-bottom: 10px;\n    letter-spacing: 5px;\n  }\n}\n\n.form-box {\n  width: 100%;\n  margin-top: 10px;\n\n  .info {\n    font-size: 20px;\n    & > .el-input__prefix > .el-input__icon {\n      color: #454545;\n    }\n    & > input {\n      width: 100%;\n      padding-left: 40px;\n      font-size: 16px;\n    }\n  }\n\n  .confirm-btn {\n    width: 100%;\n    height: 40px;\n    display: flex;\n    justify-content: center;\n    background-color: #33c481;\n    border: none;\n    align-items: center;\n    letter-spacing: 15px;\n    & > i {\n      letter-spacing: normal;\n    }\n  }\n  .el-button {\n    font-size: 16px;\n  }\n  .confirm-btn:hover {\n    background-color: #55ff00;\n    opacity: 0.8;\n  }\n}\n</style>\n<style lang=\"less\">\n.el-loading-mask {\n  .el-loading-spinner {\n    .el-icon-loading {\n      font-size: 24px;\n    }\n    .el-loading-text {\n      font-size: 18px;\n    }\n  }\n}\n</style>"]}]}