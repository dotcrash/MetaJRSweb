{"remainingRequest":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\HBuilderX软件\\Project\\brainHealth\\src\\layout\\header\\components\\headMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\src\\layout\\header\\components\\headMenu.vue","mtime":1652372262287},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\babel-loader\\lib\\index.js","mtime":1652881229298},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652884357073},{"path":"F:\\HBuilderX软件\\Project\\brainHealth\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1652886624014}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaGVhZE1lbnUiLAogIGNvbXB1dGVkOiB7CiAgICBnZXRVc2VySW5mbygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXNlcjsKICAgIH0sCiAgICByZWFkeUxvZ2luT3V0KCkgewogICAgICByZXR1cm4gKAogICAgICAgICh0aGlzLiRyb3V0ZS5uYW1lID09PSAiU2VuZEFydGljbGUiIHx8IHRoaXMuJHJvdXRlLm5hbWUgPT09ICJVcGRhdGVBcnRpY2xlIikgJiYKICAgICAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFJlYWR5TG9naW5PdXQgJiYKICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZWwtaW5wdXRfX2lubmVyIilbMV0udmFsdWUgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidy1lLXRleHQiKVswXS5pbm5lckhUTUwpCiAgICAgICk7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgc2VsZWN0TWVudShpbmRleCkgewogICAgICB0aGlzLiRlbWl0KCJjbG9zZU1lbnUiLCB0cnVlKTsKICAgICAgaWYgKGluZGV4ID09IDEpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvdXNlci9jZW50ZXIiIH0sICgpID0+IHt9KTsKICAgICAgfSBlbHNlIGlmIChpbmRleCA9PSAyKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiBgL2FydGljbGUvcmVsZWFzZV9tYW5hZ2UvJHt0aGlzLmdldFVzZXJJbmZvLl9pZH1gIH0sICgpID0+IHt9KTsKICAgICAgfSBlbHNlIGlmIChpbmRleCA9PSAzKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL3VzZXIvdXBkYXRlX3Bhc3MiIH0sICgpID0+IHt9KTsKICAgICAgfSBlbHNlIGlmIChpbmRleCA9PSA0KSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRSZWFkeUxvZ2luT3V0IiwgdHJ1ZSk7CiAgICAgICAgdGhpcy4kY29uZmlybShgJHt0aGlzLnJlYWR5TG9naW5PdXQgPyAi5L2g5Zyo5b2T5YmN6aG16Z2i5bey57uP57yW6L6R5LqG5paH56ug5L+h5oGv77yM56a75byA5b2T5YmN6aG16Z2i5bCG5Lya5Lii5aSx6K+l6aG16Z2i55qE5Lu75L2V5L+h5oGv44CCIiA6ICIifeaYr+WQpue7p+e7remAgOWHuueZu+W9lT9gLCAi5o+Q56S6IiwgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgfSkKICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoaGlzdG9yeS5zdGF0ZSwgIiIsIGRvY3VtZW50LlVSTCk7CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJwb3BzdGF0ZSIsIHRoaXMuY2FuY2VsR29CYWNrKTsKICAgICAgICAgICAgdGhpcy4kcm91dGUucGF0aCAhPT0gIi8iICYmIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0UmVhZHlMb2dpbk91dCIsIGZhbHNlKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY2FuY2VsR29CYWNrKCkgewogICAgICBoaXN0b3J5LnB1c2hTdGF0ZShoaXN0b3J5LnN0YXRlLCAiIiwgZG9jdW1lbnQuVVJMKTsKICAgIH0sCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvcHN0YXRlIiwgdGhpcy5jYW5jZWxHb0JhY2spOwogIH0sCn07Cg=="},{"version":3,"sources":["headMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"headMenu.vue","sourceRoot":"src/layout/header/components","sourcesContent":["<template>\n  <div class=\"avater-main\">\n    <div class=\"info-box\">\n      <img :src=\"getUserInfo.avatar\" alt=\" \" />\n      <h3 style=\"padding-top: 40px; margin:10px\">{{ getUserInfo.nickname }}</h3>\n    </div>\n    <el-menu class=\"el-menu-vertical-demo\" menu-trigger=\"click\" @select=\"selectMenu\">\n      <el-menu-item index=\"1\">\n        <span slot=\"title\">个人中心</span>\n      </el-menu-item>\n      <el-menu-item index=\"2\">\n        <span slot=\"title\">发布管理</span>\n      </el-menu-item>\n      <el-menu-item index=\"3\">\n        <span slot=\"title\">修改密码</span>\n      </el-menu-item>\n      <el-menu-item index=\"4\">\n        <span slot=\"title\">退出登录</span>\n      </el-menu-item>\n    </el-menu>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"headMenu\",\n  computed: {\n    getUserInfo() {\n      return this.$store.getters.getUser;\n    },\n    readyLoginOut() {\n      return (\n        (this.$route.name === \"SendArticle\" || this.$route.name === \"UpdateArticle\") &&\n        this.$store.getters.getReadyLoginOut &&\n        (document.getElementsByClassName(\"el-input__inner\")[1].value || document.getElementsByClassName(\"w-e-text\")[0].innerHTML)\n      );\n    },\n  },\n  methods: {\n    async selectMenu(index) {\n      this.$emit(\"closeMenu\", true);\n      if (index == 1) {\n        this.$router.push({ path: \"/user/center\" }, () => {});\n      } else if (index == 2) {\n        this.$router.push({ path: `/article/release_manage/${this.getUserInfo._id}` }, () => {});\n      } else if (index == 3) {\n        this.$router.push({ path: \"/user/update_pass\" }, () => {});\n      } else if (index == 4) {\n        this.$store.commit(\"setReadyLoginOut\", true);\n        this.$confirm(`${this.readyLoginOut ? \"你在当前页面已经编辑了文章信息，离开当前页面将会丢失该页面的任何信息。\" : \"\"}是否继续退出登录?`, \"提示\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        })\n          .then(() => {\n            history.pushState(history.state, \"\", document.URL);\n            window.addEventListener(\"popstate\", this.cancelGoBack);\n            this.$route.path !== \"/\" && this.$router.push(\"/\");\n            localStorage.clear();\n          })\n          .catch(() => {\n            this.$store.commit(\"setReadyLoginOut\", false);\n          });\n      }\n    },\n    cancelGoBack() {\n      history.pushState(history.state, \"\", document.URL);\n    },\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"popstate\", this.cancelGoBack);\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.avater-main {\n  width: 200px;\n  height: 350px;\n  background-color: #fff;\n  box-shadow: 0 3px 6px 2px #aaa;\r\n  margin-right: 150px;\n}\n.info-box {\n  position: relative;\n}\n.info-box > img {\n  position: absolute;\n  cursor: pointer;\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  top: -45px;\n  left: 60px;\n}\n.el-menu ::v-deep {\n  .el-menu-item.is-active {\n    color: #303133;\n  }\n}\n</style>"]}]}